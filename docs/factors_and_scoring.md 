# 因子与打分体系说明（当前实现）

> 对应代码：  
> - `factors/stock_factors.py`：计算因子 & 打分  
> - `factors/policy_factor.py`：政策因子（可选）  
> - 回测脚本：
>   - `backtest/practice_single_stock.py`
>   - `backtest/run_param_table.py`

---

## 1. 输入数据约定

所有因子与打分基于**日线 OHLCV** 数据：

- 必要字段：
  - `date`：交易日期（索引或列）
  - `open`：开盘价
  - `high`：最高价
  - `low`：最低价
  - `close`：收盘价
  - `volume`：成交量（原始单位）

数据加载统一通过：

- `common/gm_loader.py`
  - `load_gm_ohlcv(path)`：将掘金原始 CSV（带 `eob`）或旧版标准 CSV，转成统一格式：
    - `date`（Datetime, 仅日期）
    - `open, high, low, close, volume`

回测脚本内部一般再将 `date` 设为 index：

```python
df = load_gm_ohlcv(csv_path)
df = df.set_index("date").sort_index()